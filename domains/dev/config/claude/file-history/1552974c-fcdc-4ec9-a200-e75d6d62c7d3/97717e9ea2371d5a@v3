package core

import (
	"time"

	common_vo "github.com/sansaninc/sdi-core/shared/golang_lib/common_vo"
)

// TODO: value object を下記ドキュメントを参考に実装してください。
// application service からの直接的な操作を避けるために、private フィールドを用い、できる限り関数の公開を避けてください。
// TODO: Implement value objects by referring to the following documentation.
// Please avoid public functions as much as possible to avoid direct operations from the application service.
// Please refer to the following document for more information.
// https://github.com/sansaninc/sdi-core/blob/main/docs/adr/application/APP_023_value_object.md

type ID struct {
	value common_vo.ID
}

func randomID() ID {
	return ID{value: common_vo.RandomID()}
}

func NewParseID(id string) (ID, error) {
	parsedID, err := common_vo.ParseID(id)
	if err != nil {
		return ID{}, err
	}
	return ID{value: parsedID}, nil
}

func mustParseID(id string) ID {
	return ID{value: common_vo.MustParseID(id)}
}

type createdAt struct {
	value time.Time
}

func NewCreatedAt(t time.Time) createdAt {
	return createdAt{value: t}
}
