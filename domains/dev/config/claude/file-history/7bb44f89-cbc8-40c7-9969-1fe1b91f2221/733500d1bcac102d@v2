#!/usr/bin/env bash

# Key bindings help script for tmux status bar
# Prefix: Ctrl+q (unified with WezTerm/Zellij)

# Show info icon for status bar (click to show help popup)
get_icon() {
    echo "ℹ"
}

# Show full keybindings help (for popup display)
get_help() {
    cat << 'EOF'
┌─────────────────────────────────────────┐
│  tmux Keybindings (Prefix: Ctrl+q)      │
├─────────────────────────────────────────┤
│  Pane                                   │
│    Prefix + \     Split horizontal      │
│    Prefix + -     Split vertical        │
│    Prefix + h/j/k/l  Navigate           │
│    Prefix + H/J/K/L  Resize             │
│    Prefix + z     Zoom toggle           │
│    Prefix + x     Close pane            │
├─────────────────────────────────────────┤
│  Window/Tab                             │
│    Ctrl+h         Previous window       │
│    Ctrl+l         Next window           │
│    Prefix + Tab   Last window           │
├─────────────────────────────────────────┤
│  Session                                │
│    Prefix + d     Detach                │
│    Prefix + Ctrl+c  New session         │
├─────────────────────────────────────────┤
│  Copy Mode                              │
│    Prefix + [     Enter copy mode       │
│    v              Begin selection       │
│    y              Copy and exit         │
├─────────────────────────────────────────┤
│  Spotify                                │
│    Prefix + s     Toggle play/pause     │
│    Prefix + ]     Next track            │
│    Prefix + P     Previous track        │
└─────────────────────────────────────────┘
EOF
}

case "${1:-icon}" in
    "icon") get_icon ;;
    "help") get_help ;;
    *) get_icon ;;
esac